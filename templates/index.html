{% include 'header.html' %}

    <div class="main-container">
        <div class="task-addition">

            <h2>Type your task below:</h2>
            <br>
            <form action="" method="post">
                <div class="input-group mb-3">
                <input class="form-control" type="text" placeholder="Put your task here" aria-label="default input example" name="task">
                    <div class="input-group-append">
                        <input class="btn btn-dark" type="submit" value="Add task">
                    </div>
                </div>
            </form>

        </div>

        <h2>Your current tasks:</h2>
            {% if tasks %}
            <div class="lista">

                    <caption>List of your tasks</caption>
                    <table class="table table-hover table-light table-striped align-middle ">
                        <thead class="table-dark">
                            <tr>
                              <th class="task-column" scope="col">Task</th>
                              <th scope="col">Status</th>
                              <th class="progress-column" scope="col">Progress</th>
                              <th scope="col">Deadline</th>
                              <th scope="col"> </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for task in tasks %}
                                <tr onclick="window.location='#';" class="list-pointer ">
                                    <td class="align-bottom">
                                        <div class="event-wrap">
                                                <h5>{{ task.text }}</h5>
                                                <div class="meta">
                                                    <div class="organizers">
                                                        <p class="task-description">{{ task.description }}</p>
                                                    </div>
                                                </div>
                                            </div>
                                    </td>
                                    <td>{{ task.status }}</td>
                                    <td>
                                        <div class="progress" style="height:25px;">
                                            <div class="progress-bar bg-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:70%">
                                                70% Complete (success)
                                            </div>
                                        </div>
                                    </td>
                                     <td>{{ task.deadline }}</td>


                                  <td>  <a href='{{url_for("delete_task", task_id=task.id)}}' class="btn btn-outline-danger delete-btn"  role="button">Delete</a>
                                        <a href='{{url_for("move_to_done", task_id=task.id)}}' class="btn btn-outline-success done-btn" role="button">Done</a>
                                  </td>
                                </tr>
                            {% endfor %}
                            <tr class="table-dark list-endline">
                                <td colspan="6"></td>
                            </tr>

                        </tbody>
                    </table>

            </div>
            {% else %}
            <h5>Add a task</h5>
            {% endif %}



        <h2>Recently done tasks:</h2>
        {% if done %}
        <caption>Finished tasks</caption>
            <table class="table table-hover table-borderless table-light align-middle border-start border-dark">
                <thead>
                    <tr class="table-dark">
                        <th>Task finished</th>
                        <th>Date of issue</th>
                        <th>Date of completion</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for element in done %}

                        <tr onclick="window.location='#';" class="list-pointer border-start border-success">
                            <td class="align-bottom">
                                <div class="event-wrap">
                                        <h5 class="text-success">{{ element.text }}</h5>
                                        <div class="meta">
                                            <div class="organizers">
                                                <p class="task-description">{{ element.description }}</p>
                                            </div>
                                        </div>
                                    </div>
                            </td>
                            <td>{{ element.status }}</td>
                            <td> 75% </td>
                             <td>{{ element.deadline }}</td>
                        </tr>
                    {% endfor %}
                    <tr class="table-dark list-endline">
                        <td colspan="4"></td>
                    </tr>

                </tbody>
            </table>
        {% else %}
        <h5>No tasks finished</h5>
        {% endif %}


    </div>


{% include "footer.html" %}